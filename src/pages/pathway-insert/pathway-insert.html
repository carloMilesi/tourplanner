<!--
  Generated template for the PathwayInsertPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ "PATHWAYS.NEW_TITLE" | translate}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

<form [formGroup]="formgroup" (ngSubmit)="saveItem(formgroup.value)">
   <ion-list>
   
   <ion-item>
      <ion-label floating>{{ "PATHWAYS.NEW_PLACEHOLDER" | translate}}</ion-label>
      <ion-input type="text" formControlName="name"></ion-input>
    </ion-item>
    <ion-item *ngIf="name.hasError('required') && name.touched">
    <p>{{ "PATHWAYS.VALIDATION1" | translate}}</p>
    </ion-item>
    
    <ion-item>
      <ion-label floating>{{ "PATHWAYS.DATE" | translate}}</ion-label>
      <ion-datetime displayFormat="DD-MM-YYYY" pickerFormat="DD-MM-YYYY" formControlName="dataInizio"></ion-datetime>
    </ion-item>
    <ion-item *ngIf="dataInizio.hasError('required') && dataInizio.touched">
    <p>{{ "PATHWAYS.VALIDATION1" | translate}}</p>
    </ion-item>
    

    <ion-item>
      <ion-label floating>{{ "PATHWAYS.START_POINT" | translate}}</ion-label>
      <ion-select  formControlName="puntoPartenza">
      	<ion-option value="porto" selected>porto</ion-option>
      </ion-select>
    </ion-item>
    
    <ion-item>
      <ion-label floating>{{ "PROFILE" | translate}}</ion-label>
      <ion-select  formControlName="profilo">
        <ion-option value="0" selected>{{ "CUSTOM_PROFILE" | translate}}</ion-option>
        <ion-option value="1">{{ "cat1" | translate}}</ion-option>
        <ion-option value="2">{{ "cat2" | translate}}</ion-option>
        <ion-option value="3">{{ "cat3" | translate}}</ion-option>
        <ion-option value="4">{{ "cat4" | translate}}</ion-option>
        
      </ion-select>
    </ion-item>
    <br>

    <div *ngIf="profilo.value == '0'">
    
    <ion-item>
      <ion-label floating>{{ "PATHWAYS.DURATION" | translate}}</ion-label>
        <ion-range  min="30" max="240" step="30" formControlName="durata">
        <ion-icon range-left small name="stopwatch"></ion-icon>
        <ion-icon range-right name="stopwatch"></ion-icon>
          </ion-range>
        </ion-item>
        <ion-badge>{{durata.value}} min.</ion-badge>

        <ion-item>
          <ion-label floating>{{ "PATHWAYS.DIFFICLTY" | translate}}</ion-label>
          <ion-range  min="0" max="100" step="25" color="secondary" formControlName="difficolta">
          <ion-icon range-left small name="walk"></ion-icon>
          <ion-icon range-right name="walk"></ion-icon>
        </ion-range>
        </ion-item>
        <ion-badge color="secondary">{{difficolta_str}}</ion-badge>
  
    </div>
  
    <div *ngIf="profilo.value != '0'">
        <ion-card>
            <ion-item>
              <ion-icon name='stopwatch' item-start style="color: #d03e84"></ion-icon>
              {{"PATHWAYS.YOUR_TIME" | translate}} 
              <ion-badge item-right>{{profilo_arr.duration}}</ion-badge>
            </ion-item>
        
            <ion-item>
              <ion-icon name='walk' item-start style="color: #55acee"></ion-icon>
              {{"PATHWAYS.YOUR_TRAIN" | translate}} 
              <ion-badge item-right color="secondary">{{decode_difficulty(profilo_arr.difficulty)}}</ion-badge>
            </ion-item>
          </ion-card>
          
          
          <ion-card>
            
            <ion-item>
              {{"PAGE_MONUMENTS" | translate}}
              <ion-note item-right><icon-list [value]="profilo_arr.monuments"></icon-list></ion-note>
            </ion-item>
            <ion-item>
              {{"PAGE_MUSEUMS" | translate}} 
              <ion-note item-right><icon-list [value]="profilo_arr.museums"></icon-list></ion-note>
            </ion-item>
            <ion-item>
              {{"PAGE_ARCHEOLOGY" | translate}}
              <ion-note item-right><icon-list [value]="profilo_arr.archeology"></icon-list></ion-note>
            </ion-item>
            <ion-item>
              {{"PAGE_GARDENS" | translate}}
              <ion-note item-right><icon-list [value]="profilo_arr.gardens"></icon-list></ion-note> 
            </ion-item>
            <ion-item>
              {{"PAGE_SHOPPING" | translate}}
              <ion-note item-right><icon-list [value]="profilo_arr.shopping"></icon-list></ion-note> 
            </ion-item>
            
          </ion-card>

    </div>
    



  </ion-list>
  <input block type="submit" ion-button type="submit" value="save" [disabled]="!formgroup.valid">
  </form>


</ion-content>
